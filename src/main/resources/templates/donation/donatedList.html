<!DOCTYPE html>
<html
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{layouts/layout1}"
>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link
	rel="stylesheet"
	href="/css/longsiru/donated-board-list.css"
/>
</head>
<body>
	<th:block layout:fragment="layout-content">
	
		<!--기부 완요 게판 페이지 시각-->
      <section class="news-page">
        <div class="container">
          <div class="row">
            <div class="m-5">
              <form class="input-group mb-3 w-25 mx-auto">
                <input type="text" class="form-control" placeholder="검색" th:field="${donationBoardSearchDto.searchQuery}"/>
                <button
                  class="btn"
                  type="submit"
                  style="background-color: #20c097; color: #fff"
                >
                  검색
                </button>
              </form>
            </div>
            
        	
        	<th:block th:each="donationBoard, status: ${donationBoards.getContent()}">
            <div class="col-xl-4 col-lg-4 wow fadeInUp" data-wow-delay="100ms">
            
              <!--News Two Single-->
              <div class="news-two__single">
                <div class="news-two__img-box">
                  <div class="news-two__img">
                    <img
                    th:src="${donationBoard.imgUrl}" th:alt="${donationBoard.subject}"
                    />
                    <a href="#">
                      <i class="fa fa-plus"></i>
                    </a>
                  </div>
                  <div class="news-two__date">
                    <p>[[${donationBoard.regTime}]]</p>
                  </div>
                </div>
                <div class="news-two__content">
                  <ul class="list-unstyled news-two__meta">
                    <li>
                      <a href="#"><i class="far fa-user-circle"></i>Admin</a>
                    </li>
                    <li><span>/</span></li>
                    <li><i th:text="${donationBoard.commentCount}" class="far fa-comments"></i></li>
                  </ul>
                  <h3 class="read-more">
                    <a th:href="'/donatedBoard/' +${donationBoard.id}">[[${donationBoard.subject}]]</a>
                  </h3>
                  <p class="news-two__text read-more">[[${donationBoard.content}]]</p>
                </div>
              </div>
              
            </div>
         </th:block>
          
          </div>
        </div>
      </section>
      <div class="archive-pages" th:with="start=${(donationBoards.number/maxPage) * maxPage + 1}
      , end=(${(donationBoards.totalPages == 0) ? 1 : (start + (maxPage) < donationBoards.totalPages ? start + (maxPage -1) : donationBoards.totalPages)})">
        <ul>
          <li class="previous" th:classappend="${donationBoards.first}? 'disabled'">
          <a title="previous page" th:href="@{'/donatedBoards/' + ${start} + '?searchQuery=' + ${donationBoardSearchDto.searchQuery}}">
          
          </a></li>
          
          <li th:each="page: ${#numbers.sequence(start, end)}" 
          th:classappend="${donationBoards.number eq page-1} ? 'active':''">
          <a th:inline="text" th:href="@{'/donatedBoards/' + ${page} + '?searchQuery=' + ${donationBoardSearchDto.searchQuery}}">[[${page}]]</a>
          </li>
          
          <li class="next" th:classappend="${donationBoards.last}? 'disabled'">
          <a title="next page" th:href="@{'/donatedBoards/' + ${end} + '?searchQuery=' + ${donationBoardSearchDto.searchQuery}}"></a></li>
        </ul>
      </div>
      
      donationBoard.number: [[${donationBoards.number}]]
      maxPage: [[${maxPage}]]
      <!--기부 완료 게시판 페이지 끝-->

	</th:block>

	<th:block layout:fragment="script-bottom">
	
	</th:block>
</body>
</html>